local egg = script.Parent
local petNames = {"Snail", "Praying Mantis", "Dragonfly", "Giant Ant", "Caterpillar"}
local ServerStorage = game:GetService("ServerStorage")
local petsFolder = ServerStorage:WaitForChild("PetsFolder")
local clicked = false  -- Prevent double clicks

local function hatchEgg()
	if clicked then return end
	clicked = true

	-- Randomly select a pet
	local chosenName = petNames[math.random(1, #petNames)]

	-- Show the pet name above the egg
	local guiPart = egg:WaitForChild("EggTop")
	local label = guiPart:WaitForChild("BillboardGui"):WaitForChild("PetNameLabel")
	label.Text = chosenName

	-- Clone and spawn the actual pet
	local petModel = petsFolder:FindFirstChild(chosenName)
	if petModel then
		local clonedPet = petModel:Clone()
		clonedPet.Parent = workspace

		-- Make sure the pet model has a PrimaryPart
		if egg.PrimaryPart and clonedPet.PrimaryPart then
			clonedPet:SetPrimaryPartCFrame(egg.PrimaryPart.CFrame * CFrame.new(0, 3, 0)) -- spawn above egg
		else
			warn("Missing PrimaryPart in egg or pet: " .. chosenName)
		end
	else
		warn("Pet model not found: " .. chosenName)
	end

	-- Optional: remove egg after spawn
	wait(1.5)
	egg:Destroy()
end

-- Listen for player click
local clickDetector = egg:WaitForChild("ClickDetector")
clickDetector.MouseClick:Connect(hatchEgg)
